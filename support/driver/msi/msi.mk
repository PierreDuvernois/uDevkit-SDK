ifndef MSI_DRIVER
MSI_DRIVER=

vpath %.c $(DRIVERPATH)
vpath %.h $(DRIVERPATH)

HEADER += msi.h

ifeq ($(ARCHI),$(filter $(ARCHI),dspic33ch))
 HEADER += msi_dspic33ch.h
 ifeq ($(DEVICE),$(filter $(DEVICE), 33CH128MP202 33CH128MP203 33CH128MP205 33CH128MP206 33CH128MP208 33CH128MP502 \
33CH128MP503 33CH128MP505 33CH128MP506 33CH128MP508 33CH256MP205 33CH256MP206 \
33CH256MP208 33CH256MP505 33CH256MP506 33CH256MP508 33CH512MP205 33CH512MP206 \
33CH512MP208 33CH512MP505 33CH512MP506 33CH512MP508 33CH64MP202 33CH64MP203 \
33CH64MP205 33CH64MP206 33CH64MP208 33CH64MP502 33CH64MP503 33CH64MP505 \
33CH64MP506 33CH64MP508))
  ARCHI_SRC += msi_dspic33ch.c
 else
  ARCHI_SRC += msi_dspic33ch_s1.c
 endif
endif

SIM_SRC += msi_sim.c

endif
